<!DOCTYPE html><html>
<head>
<title>Syncropy Menu</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body { background:#000; color:#fff; font-family:system-ui; margin:0; padding:20px; }
.course { margin-bottom:40px; }
.ingredients { color:#aaa; font-family:monospace; }
.narrative { font-style:italic; }
</style>
</head>
<body>
<div id="menu"></div>

<script src="https://syncropy.github.io/menu_tji.js"></script>
<script>
window.onload = () => {
    const menu = document.getElementById('menu');
    
    const courses = Object.entries(menu_tji)
        .filter(([,v]) => v[1].includes('type:course'))
        .map(([,v]) => {
            try {
                const courseId = v[0].split(':')[1];
                const name = v[1].split('name:')[1] || '';
                
                const ingredients = Object.values(menu_tji)
                    .find(i => i[1].includes(`parent:${courseId}`) && 
                              i[1].includes('type:ingredients'));
                              
                const narrative = Object.values(menu_tji)
                    .find(i => i[1].includes(`parent:${courseId}`) && 
                              i[1].includes('type:narrative'));
                
                return `
                    <div class="course">
                        <h2>${name.replace(/([A-Z])/g, ' $1').trim()}</h2>
                        ${ingredients ? `<div class="ingredients">${ingredients[1].split('items:')[1]}</div>` : ''}
                        ${narrative ? `<div class="narrative">${narrative[1].split('content:')[1]}</div>` : ''}
                    </div>
                `;
            } catch (e) {
                console.error('Error processing course:', e);
                return '';
            }
        }).join('');
        
    menu.innerHTML = courses;
};
</script>
</body>
</html>
